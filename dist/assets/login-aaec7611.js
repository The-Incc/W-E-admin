import{bX as B,r,d as $,g as E,s as C,f as x,e as L,u as k,_ as R,j as t,i as W,n as M,bS as w,B as F,bY as T,l as U,S as P,T as I,I as z,a as _,W as A}from"./index-10cf8504.js";import{L as S}from"./logo-6cee78e9.js";import{C as N}from"./Card-18804dcb.js";import{T as y}from"./TextField-d7688593.js";import{I as D}from"./InputAdornment-26a6ce61.js";import{L as G}from"./Link-cd35d975.js";import{B as V}from"./Button-d54db9e7.js";import{u as X}from"./Menu-91585512.js";import{C as Y}from"./CircularProgress-1e213017.js";function q(){const n=B();return r.useMemo(()=>({back:()=>n(-1),forward:()=>n(1),reload:()=>window.location.reload(),push:i=>n(i),replace:i=>n(i,{replace:!0})}),[n])}function H(n){return E("MuiLoadingButton",n)}const J=$("MuiLoadingButton",["root","loading","loadingIndicator","loadingIndicatorCenter","loadingIndicatorStart","loadingIndicatorEnd","endIconLoadingEnd","startIconLoadingStart"]),s=J,K=["children","disabled","id","loading","loadingIndicator","loadingPosition","variant"],O=n=>{const{loading:o,loadingPosition:i,classes:a}=n,c={root:["root",o&&"loading"],startIcon:[o&&`startIconLoading${L(i)}`],endIcon:[o&&`endIconLoading${L(i)}`],loadingIndicator:["loadingIndicator",o&&`loadingIndicator${L(i)}`]},e=W(c,H,a);return x({},a,e)},Q=n=>n!=="ownerState"&&n!=="theme"&&n!=="sx"&&n!=="as"&&n!=="classes",Z=C(V,{shouldForwardProp:n=>Q(n)||n==="classes",name:"MuiLoadingButton",slot:"Root",overridesResolver:(n,o)=>[o.root,o.startIconLoadingStart&&{[`& .${s.startIconLoadingStart}`]:o.startIconLoadingStart},o.endIconLoadingEnd&&{[`& .${s.endIconLoadingEnd}`]:o.endIconLoadingEnd}]})(({ownerState:n,theme:o})=>x({[`& .${s.startIconLoadingStart}, & .${s.endIconLoadingEnd}`]:{transition:o.transitions.create(["opacity"],{duration:o.transitions.duration.short}),opacity:0}},n.loadingPosition==="center"&&{transition:o.transitions.create(["background-color","box-shadow","border-color"],{duration:o.transitions.duration.short}),[`&.${s.loading}`]:{color:"transparent"}},n.loadingPosition==="start"&&n.fullWidth&&{[`& .${s.startIconLoadingStart}, & .${s.endIconLoadingEnd}`]:{transition:o.transitions.create(["opacity"],{duration:o.transitions.duration.short}),opacity:0,marginRight:-8}},n.loadingPosition==="end"&&n.fullWidth&&{[`& .${s.startIconLoadingStart}, & .${s.endIconLoadingEnd}`]:{transition:o.transitions.create(["opacity"],{duration:o.transitions.duration.short}),opacity:0,marginLeft:-8}})),oo=C("span",{name:"MuiLoadingButton",slot:"LoadingIndicator",overridesResolver:(n,o)=>{const{ownerState:i}=n;return[o.loadingIndicator,o[`loadingIndicator${L(i.loadingPosition)}`]]}})(({theme:n,ownerState:o})=>x({position:"absolute",visibility:"visible",display:"flex"},o.loadingPosition==="start"&&(o.variant==="outlined"||o.variant==="contained")&&{left:o.size==="small"?10:14},o.loadingPosition==="start"&&o.variant==="text"&&{left:6},o.loadingPosition==="center"&&{left:"50%",transform:"translate(-50%)",color:(n.vars||n).palette.action.disabled},o.loadingPosition==="end"&&(o.variant==="outlined"||o.variant==="contained")&&{right:o.size==="small"?10:14},o.loadingPosition==="end"&&o.variant==="text"&&{right:6},o.loadingPosition==="start"&&o.fullWidth&&{position:"relative",left:-10},o.loadingPosition==="end"&&o.fullWidth&&{position:"relative",right:-10})),no=r.forwardRef(function(o,i){const a=k({props:o,name:"MuiLoadingButton"}),{children:c,disabled:e=!1,id:v,loading:g=!1,loadingIndicator:p,loadingPosition:j="center",variant:u="text"}=a,m=R(a,K),h=X(v),f=p??t.jsx(Y,{"aria-labelledby":h,color:"inherit",size:16}),d=x({},a,{disabled:e,loading:g,loadingIndicator:f,loadingPosition:j,variant:u}),l=O(d),b=g?t.jsx(oo,{className:l.loadingIndicator,ownerState:d,children:f}):null;return t.jsxs(Z,x({disabled:e||g,id:h,ref:i},m,{variant:u,classes:l,ownerState:d,children:[d.loadingPosition==="end"?c:b,d.loadingPosition==="end"?b:c]}))}),to=no;function io(){const n=M(),o=q(),{login:i}=r.useContext(w),[a,c]=r.useState(!1),[e,v]=r.useState(""),[g,p]=r.useState(""),[j,u]=r.useState(!1),[m,h]=r.useState(null),f=async()=>{u(!0),h(null);try{await i({email:e,password:g}),o.push("/")}catch{h("Invalid email or password"),u(!1)}},d=t.jsxs(t.Fragment,{children:[t.jsxs(P,{spacing:3,children:[t.jsx(y,{name:"email",label:"Email address",value:e,onChange:l=>v(l.target.value)}),t.jsx(y,{name:"password",label:"Password",type:a?"text":"password",value:g,onChange:l=>p(l.target.value),InputProps:{endAdornment:t.jsx(D,{position:"end",children:t.jsx(z,{onClick:()=>c(!a),edge:"end",children:t.jsx(_,{icon:a?"eva:eye-fill":"eva:eye-off-fill"})})})}})]}),m&&t.jsx(I,{variant:"body2",color:"error",sx:{mt:2},children:m}),t.jsx(P,{direction:"row",alignItems:"center",justifyContent:"flex-end",sx:{my:3},children:t.jsx(G,{variant:"subtitle2",underline:"hover"})}),t.jsx(to,{fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"inherit",loading:j,onClick:f,children:"Login"})]});return t.jsxs(F,{sx:{...T({color:U(n.palette.background.default,.9),imgUrl:"/assets/background/overlay_4.jpg"}),height:1},children:[t.jsx(S,{sx:{position:"fixed",top:{xs:16,md:24},left:{xs:16,md:24}}}),t.jsx(P,{alignItems:"center",justifyContent:"center",sx:{height:1},children:t.jsxs(N,{sx:{p:5,width:1,maxWidth:420},children:[t.jsx(I,{variant:"h4",children:"Sign in"}),t.jsxs(I,{variant:"body2",sx:{mt:2,mb:5},children:["Donâ€™t have an account?",t.jsx(I,{variant:"subtitle2",children:"Ask your admin to create one."})]}),d]})})]})}function xo(){return t.jsxs(t.Fragment,{children:[t.jsx(A,{children:t.jsx("title",{children:" Login | Minimal UI "})}),t.jsx(io,{})]})}export{xo as default};
